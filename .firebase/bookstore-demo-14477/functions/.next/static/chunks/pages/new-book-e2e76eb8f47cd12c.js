(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{5590:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new-book",function(){return r(4874)}])},4874:function(e,t,r){"use strict";let o;r.r(t),r.d(t,{default:function(){return j}});var n=r(5893),i=r(4337),a=r(7294),s=r(1649),c=r(1163);let d="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var l={randomUUID:d};let u=new Uint8Array(16);function f(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(u)}let h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).slice(1));var p=function(e,t,r){if(l.randomUUID&&!t&&!e)return l.randomUUID();e=e||{};let o=e.random||(e.rng||f)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return(h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]).toLowerCase()}(o)},m=r(7519),x=r(8250),b=r(5194),_=r.n(b);let y=e=>{let t=(0,c.useRouter)(),r=(0,s.I0)(),o=(0,a.useRef)(""),i=(0,a.useRef)(""),d=(0,a.useRef)(""),l=(0,a.useRef)(""),u=(0,a.useRef)("");return(0,n.jsx)(m.Z,{children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault();let n=p(),a={id:n,title:o.current.value,author:i.current.value,category:d.current.value,price:l.current.value,description:u.current.value};r((0,x.j6)(a)),t.push("/")},children:[(0,n.jsxs)("div",{className:_().control,children:[(0,n.jsx)("label",{htmlFor:"title",children:"Book Title"}),(0,n.jsx)("input",{type:"text",required:!0,id:"title",ref:o})]}),(0,n.jsxs)("div",{className:_().control,children:[(0,n.jsx)("label",{htmlFor:"author",children:"Author"}),(0,n.jsx)("input",{type:"text",required:!0,id:"author",ref:i})]}),(0,n.jsxs)("div",{className:_().control,children:[(0,n.jsx)("label",{htmlFor:"category",children:"Category"}),(0,n.jsx)("input",{type:"text",required:!0,id:"category",ref:d})]}),(0,n.jsxs)("div",{className:_().control,children:[(0,n.jsx)("label",{htmlFor:"price",children:"price"}),(0,n.jsx)("input",{type:"number",required:!0,id:"price",step:"0.01",ref:l})]}),(0,n.jsxs)("div",{className:_().control,children:[(0,n.jsx)("label",{htmlFor:"description",children:"Description"}),(0,n.jsx)("textarea",{id:"description",required:!0,rows:"5",ref:u})]}),(0,n.jsx)("div",{className:_().actions,children:(0,n.jsx)("button",{children:"Add Book"})})]})})};var j=()=>(0,n.jsx)(i.Z,{children:(0,n.jsx)(y,{})})},7519:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var o=r(5893),n=r(2225),i=r.n(n);let a=e=>(0,o.jsx)("div",{className:i().card,children:e.children})},4337:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var o=r(5893),n=r(1664),i=r.n(n),a=r(5646),s=r.n(a),c=function(){return(0,o.jsxs)("header",{className:s().header,children:[(0,o.jsx)("div",{className:s().logo,children:"Bookstore"}),(0,o.jsx)("nav",{children:(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(i(),{href:"/",children:"All Books"})}),(0,o.jsx)("li",{children:(0,o.jsx)(i(),{href:"/new-book",children:"Add New Book"})})]})})]})},d=r(8150),l=r.n(d);function u(e){let{children:t}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)(c,{}),(0,o.jsx)("main",{className:l().main,children:t})]})}},8250:function(e,t,r){"use strict";r.d(t,{j6:function(){return u},Y5:function(){return f},iy:function(){return h},qT:function(){return l}});var o=r(3977),n=r(1019),i=r(3454);let a={apiKey:'"AIzaSyB_EvHBsePdqQccxgQ8KaObqLha3Azpn8w",',authDomain:'"bookstore-demo-14477.firebaseapp.com",',databaseURL:"https://bookstore-demo-14477-default-rtdb.firebaseio.com",projectId:'"bookstore-demo-14477",',storageBucket:'"bookstore-demo-14477.appspot.com",',messagingSenderId:'"185731773455",',appId:"1:185731773455:web:f036c3eceb13242e19df7a",measurementId:i.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},s=(0,o.ZF)(a),c=(0,n.N8)(s);var d=r(3290);let l=()=>async e=>{let t=async()=>{let e=await fetch("https://bookstore-demo-14477-default-rtdb.firebaseio.com/books.json");if(!e.ok)throw Error("Could not fetch book data.");let t=await e.json();return t};try{let r=[],o=await t();for(let e in o)r.push({id:e,title:o[e].title,author:o[e].author,category:o[e].category,price:o[e].price,description:o[e].description});e(d.y.loadBooks({books:r||[]}))}catch(e){console.error("Your request failed: ",e)}},u=e=>async t=>{let r=async()=>{let t=await fetch("https://bookstore-demo-14477-default-rtdb.firebaseio.com/books.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"Application/json"}});if(!t.ok)throw Error("Could not add book data.");let r=await t.json();return r};try{await r(),t(d.y.addBook())}catch(e){console.error("Your request failed: ",e)}},f=e=>async t=>{try{await (0,n.Od)((0,n.iH)(c,"books/"+e)),t(d.y.deleteBook())}catch(e){console.error("Your request failed: ",e)}},h=(e,t)=>async r=>{try{let{title:o,author:i,category:a,price:s,description:l}=t;await (0,n.Vx)((0,n.iH)(c,"books/"+e),{title:o,author:i,category:a,price:s,description:l}),r(d.y.editBook())}catch(e){console.error("Your request failed: ",e)}}},5194:function(e){e.exports={form:"new-book-form_form__cuJNz",control:"new-book-form_control__qZF1L",actions:"new-book-form_actions__ZTexb"}},2225:function(e){e.exports={card:"card_card__X6XEc"}},8150:function(e){e.exports={main:"layout_main___m7vl"}},5646:function(e){e.exports={header:"main-navigation_header__DV_3N",logo:"main-navigation_logo__EWdiJ",active:"main-navigation_active__M_4oO"}},1163:function(e,t,r){e.exports=r(6885)}},function(e){e.O(0,[627,287,774,888,179],function(){return e(e.s=5590)}),_N_E=e.O()}]);